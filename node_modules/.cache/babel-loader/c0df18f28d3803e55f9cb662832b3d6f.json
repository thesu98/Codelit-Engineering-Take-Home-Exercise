{"ast":null,"code":"var _jsxFileName = \"/Users/xingsu/take-home-exercise/src/components/App/App.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport TeamMember from '../TeamMember';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addNewMember = async data => {\n      const errors = Object.keys(data).filter(key => {\n        if (data[key] === '') {\n          return true;\n        } else {\n          return false;\n        }\n      });\n\n      if (errors.length) {\n        alert(\"Some data is required\");\n        return;\n      }\n\n      delete data.isVisible;\n      const response = await axios.get({\n        method: 'post',\n        url: '/create',\n        data: data\n      });\n\n      if (response.data) {\n        this.fetchInitialData();\n      }\n    };\n\n    this.state = {\n      team: [],\n      loading: true\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      await this.fetchInitialData();\n    } catch (error) {\n      // try again after half a second if fails due to race condition\n      console.log('retrying initial data request...');\n      setTimeout(async () => {\n        await this.fetchInitialData();\n      }, 500);\n    }\n  }\n\n  async fetchInitialData() {\n    const response = await axios.get('/team');\n    this.setState({\n      team: response.data,\n      loading: false\n    });\n  }\n\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 14\n        }\n      }, \"Loading...\");\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"team-grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }), this.state.team.map(member => /*#__PURE__*/React.createElement(TeamMember, {\n      key: member.id,\n      name: `${member.firstName} ${member.lastName}`,\n      title: member.title,\n      photoUrl: member.photoUrl,\n      story: member.story,\n      favoriteColor: member.favoriteColor,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(TeamMember, {\n      id: \"new\",\n      name: \"Join us!\",\n      title: \"New Teammate\",\n      isNew: true,\n      addNewMember: this.addNewMember,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/xingsu/take-home-exercise/src/components/App/App.js"],"names":["React","axios","TeamMember","App","Component","constructor","props","addNewMember","data","errors","Object","keys","filter","key","length","alert","isVisible","response","get","method","url","fetchInitialData","state","team","loading","componentDidMount","error","console","log","setTimeout","setState","render","map","member","id","firstName","lastName","title","photoUrl","story","favoriteColor"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport TeamMember from '../TeamMember';\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      team: [],\n      loading: true\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      await this.fetchInitialData();\n    } catch (error) {\n      // try again after half a second if fails due to race condition\n      console.log('retrying initial data request...');\n      setTimeout(async () => {\n        await this.fetchInitialData();\n      }, 500);\n    }\n  }\n\n  async fetchInitialData() {\n    const response = await axios.get('/team');\n    this.setState({\n      team: response.data,\n      loading: false\n    });\n  }\n\n  addNewMember = async (data) => {\n    const errors = Object.keys(data).filter(key => {\n      if (data[key] === ''){\n        return true\n      } else {\n        return false\n      }\n    });\n\n    if (errors.length){\n      alert(\"Some data is required\");\n      return\n    }\n\n    delete data.isVisible;\n    \n    const response = await axios.get({\n      method: 'post',\n      url: '/create',\n      data: data\n    });\n\n    if (response.data){\n      this.fetchInitialData()\n    }\n  }\n\n  render() {\n    if (this.state.loading) {\n      return <h1>Loading...</h1>;\n    }\n\n    return (\n      <div className=\"app\">\n        <div className=\"team-grid\" />\n        {this.state.team.map(member => (\n          <TeamMember\n            key={member.id}\n            name={`${member.firstName} ${member.lastName}`}\n            title={member.title}\n            photoUrl={member.photoUrl}\n            story={member.story}\n            favoriteColor={member.favoriteColor}\n          />\n        ))}\n        {/* Make this new team member link to your form! */}\n        <TeamMember id=\"new\" name=\"Join us!\" title=\"New Teammate\" isNew={true} addNewMember={this.addNewMember}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}